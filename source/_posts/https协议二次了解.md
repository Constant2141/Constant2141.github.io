---
title: https协议二次了解
date: 2018-08-19 17:49:15
tags: [http]
categories:
- 计算机
cover: https://picsum.photos/seed/20180819/500/300
thumbnail: https://picsum.photos/seed/20180819/500/300
toc: true
---
7月14日的时候学习到了http的一些事项，三次握手，跨域，缓存,csp等等，以及https相比http的一些优势，在这里再次深入了解一下https
<!--more-->
### HTTPS的基本概念
>HTTPS是以安全为目标的HTTP通道，简单讲是HTTP的安全版，即HTTP下加入SSL层，HTTPS的安全基础是SSL，因此加密的详细内容就需要SSL。

>大特点也是优势有：数据加密、信道复用、分帧传输

>HTTP协议传输的数据都是未加密的，也就是明文的，因此使用HTTP协议传输隐私信息非常不安全，为了保证这些隐私数据能加密传输，于是网景公司设计了SSL（Secure Sockets Layer）协议用于对HTTP协议传输的数据进行加密，从而就诞生了HTTPS。简单来说，HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，要比http协议安全。

### HTTPS和HTTP的区别
>1、https协议需要到ca申请证书，一般免费证书较少，因而需要一定费用。
2、http是超文本传输协议，信息是明文传输，https则是具有安全性的ssl加密传输协议。
3、http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。
4、http的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，比http协议安全。

### HTTPS工作原理
>客户端在使用HTTPS方式与Web服务器通信时有以下几个步骤，如图所示。
>![](1-150H120343I41.jpg)

>（1）客户使用https的URL访问Web服务器，要求与Web服务器建立SSL连接。

>（2）Web服务器收到客户端请求后，会将网站的证书信息（证书中包含公钥）传送一份给客户端。

>（3）客户端的浏览器与Web服务器开始协商SSL连接的安全等级，也就是信息加密的等级。

>（4）客户端的浏览器根据双方同意的安全等级，建立会话密钥，然后利用网站的公钥将会话密钥加密，并传送给网站。

>（5）Web服务器利用自己的私钥解密出会话密钥。

>（6）Web服务器利用会话密钥加密与客户端之间的通信。
![](2012071410212142.gif)

### HTTPS缺点
>虽然说HTTPS有很大的优势，但其相对来说，还是存在不足之处的：

>（1）HTTPS协议握手阶段比较费时，会使页面的加载时间延长近50%；   

>（2）HTTPS连接缓存不如HTTP高效，会增加数据开销和功耗，甚至已有的安全措施也会因此而受到影响；

>（3）SSL证书需要钱，功能越强大的证书费用越高，个人网站、小网站没有必要一般不会用。

>（4）SSL证书通常需要绑定IP，不能在同一IP上绑定多个域名，IPv4资源不可能支撑这个消耗。

>（5）HTTPS协议的加密范围也比较有限，在黑客攻击、拒绝服务攻击、服务器劫持等方面几乎起不到什么作用。最关键的，SSL证书的信用链体系并不安全，特别是在某些国家可以控制CA根证书的情况下，中间人攻击一样可行。